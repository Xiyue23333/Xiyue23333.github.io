<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>第三节·第二点：制作自己模组的创造模式物品栏 | Minecraft Mod Create</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Chakra+Petch:wght@500;700&family=Noto+Sans+SC:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../styles/main.css">
</head>
<body>
  <header class="site-header">
    <a class="brand js-sidebar-toggle" href="#" aria-controls="site-drawer" aria-expanded="false">
      <span class="brand-menu" aria-hidden="true"><span></span><span></span><span></span></span>
      <span>Minecraft Mod Create</span>
    </a>
    <nav>
      <a href="../index.html#updates">最新更新</a>
      <a href="chapter-select.html">章节选择</a>
      <a href="../index.html#messages">留言区</a>
      <a href="shader-lab.html">Shader 渲染器</a>
      <a class="nav-cta" href="chapter-select.html">开始学习</a>
    </nav>
  </header>

  <div class="drawer-overlay" data-drawer-overlay hidden></div>
  <aside class="site-drawer" id="site-drawer" aria-hidden="true">
    <a class="drawer-home" href="../index.html">← 回到首页</a>

    <div class="site-drawer-head">
      <h2>快捷跳转</h2>
      <button class="drawer-close" type="button" data-drawer-close aria-label="关闭侧边栏">x</button>
    </div>

    <p class="site-drawer-text">点击章节可展开并跳转到对应页面。</p>

    <div class="drawer-groups">
      <section class="drawer-group">
        <button class="drawer-group-toggle root-toggle" type="button" data-drawer-group-toggle data-target="drawer-ch1-list" aria-expanded="false">
          <span>第一章：初窥门径</span>
          <span class="drawer-caret" aria-hidden="true">▾</span>
        </button>
        <nav class="drawer-group-list" id="drawer-ch1-list">
          <a href="chapter-1-intro.html">章节总览</a>
          <a href="ch1-sec1-environment-setup.html">第一节：开发环境构建</a>
          <a href="ch1-sec2-read-official-code.html">第二节：学会查看官方代码</a>
          <button class="drawer-group-toggle drawer-sub-toggle" type="button" data-drawer-group-toggle data-target="drawer-ch1-sec3-list" aria-expanded="false">
            <span>第三节：开始制作自己的 Mod</span>
            <span class="drawer-caret" aria-hidden="true">▾</span>
          </button>
          <nav class="drawer-group-list drawer-sub-list" id="drawer-ch1-sec3-list">
            <a href="ch1-sec3-point1-first-item.html">第三节-1：第一个物品</a>
            <a href="ch1-sec3-point2-creative-tab.html">第三节-2：创造模式物品栏</a>
            <a href="ch1-sec3-point3-resources-structure.html">第三节-3：制作第一个方块</a>
          </nav>
          <a href="ch1-sec3-start-your-mod.html">进入第三节总览</a>
        </nav>
      </section>
    </div>
  </aside>

  <main class="guide-main guide-main-wide">
    <a class="breadcrumb" href="chapter-1-intro.html">← 返回上一页</a>

    <header class="guide-hero">
      <p class="eyebrow">CHAPTER 01 · SECTION 03 · POINT 02</p>
      <h1>第三节·第二点：制作自己模组的创造模式物品栏</h1>
      <div class="meta">
        <span>状态：完整教程</span>
        <span>来源：E:\教程mod</span>
      </div>
    </header>

    <section class="section">
      <h2>本节目标</h2>
      <ul class="step-list">
        <li>在 <code>registry</code> 中创建 <code>ModCreativeModeTabs</code>，用 <code>DeferredRegister</code> 注册自定义物品栏。</li>
        <li>用自定义 key 做物品栏标题，方便后续在语言文件中统一改名。</li>
        <li>把物品（示例：<code>CRYSTAL</code>）放到物品栏里展示。</li>
      </ul>
    </section>

    <section class="section">
      <h2>第一步：创建 <code>ModCreativeModeTabs</code></h2>
      <p>沿用前面做的文件夹分类：<code>common</code> → <code>registry</code>，在其中创建：</p>
      <p><code>ModCreativeModeTabs.java</code></p>
      <p>使用 <code>DeferredRegister&lt;CreativeModeTab&gt;</code> 注册创造模式物品栏。</p>
    </section>

    <section class="section">
      <h2>注册对象里三个关键点：icon / title / displayItems</h2>
      <ul class="step-list">
        <li><strong>icon：</strong>物品栏的图标（Tab 上显示的物品）。原版“材料”栏的图标是铁锭；本教程用 <code>CRYSTAL</code>（水晶）。</li>
        <li><strong>title：</strong>物品栏名称。建议用 <code>Component.translatable(...)</code>，并使用自定义 key（例如 <code>creativetab.tutorial_tab</code>），后续在语言文件里改显示文本。</li>
        <li><strong>displayItems：</strong>控制这个物品栏里展示哪些物品，通过 <code>output.accept(...)</code> 依次添加。</li>
      </ul>
      <p class="notice-warning"><strong>注意：</strong>尽量不要重复把同一个物品多次加入同一个物品栏，避免重复显示或潜在问题。</p>
    </section>

    <section class="section">
      <h2>第二步：把物品栏注册到事件总线（别漏）</h2>
      <p>注册类写完后，需要和物品注册一样，挂到主类构造方法的 <code>modEventBus</code> 上：</p>
      <pre><code>ModCreativeModeTabs.register(modEventBus);</code></pre>
      <p>如果漏了这一步，游戏里不会出现你的物品栏。</p>
    </section>

    <section class="section">
      <h2>第三步：更新语言文件（物品栏名称）</h2>
      <p>你在代码里用了自定义 key：<code>creativetab.tutorial_tab</code>，所以需要在语言文件里添加对应条目，否则会显示内部名称（key）。</p>
      <ul class="step-list">
        <li><code>assets/tutorial/lang/en_us.json</code>（英文）</li>
        <li><code>assets/tutorial/lang/zh_cn.json</code>（中文）</li>
      </ul>
      <p>同一个 key 在不同语言文件里只改“显示文本”，保证切换语言时都能正确加载。</p>
    </section>

    <section class="section placeholder-section">
      <h2>进游戏验证</h2>
      <ul class="step-list">
        <li>运行 <code>runClient</code> 进入游戏。</li>
        <li>进入创造模式物品栏，找到你新增的 Tab。</li>
        <li>打开 Tab，确认能看到 <code>CRYSTAL</code>。</li>
      </ul>
    </section>

    <section class="section">
      <h2>IDE 工程视图（左选文件，右看代码）</h2>
      <p>下面展示本节新增/修改的关键文件（已高亮关键行）。</p>

      <div class="viewer-workbench" data-ide-viewer>
        <aside class="viewer-sidebar">
          <p class="viewer-side-title">项目文件</p>
          <div class="viewer-tree"></div>
        </aside>

        <section class="viewer-editor">
          <div class="viewer-topbar">
            <span class="viewer-dot red"></span>
            <span class="viewer-dot amber"></span>
            <span class="viewer-dot green"></span>
            <div class="viewer-tabs" role="tablist" aria-label="打开的文件标签"></div>
            <div class="viewer-search" role="search">
              <input class="viewer-search-input" type="search" placeholder="搜索代码 (Ctrl+F)" aria-label="搜索代码">
              <button class="viewer-search-btn" type="button" data-search-nav="-1" aria-label="上一个搜索结果">↑</button>
              <button class="viewer-search-btn" type="button" data-search-nav="1" aria-label="下一个搜索结果">↓</button>
              <span class="viewer-search-count" aria-live="polite">0 / 0</span>
            </div>
          </div>

          <div class="viewer-code-area">
            <div class="viewer-lines" aria-hidden="true"></div>
            <div class="viewer-code-scroll">
              <div class="viewer-highlight" aria-hidden="true"></div>
              <textarea class="viewer-input" spellcheck="false" readonly aria-label="代码查看器"></textarea>
            </div>
          </div>

          <div class="viewer-status">
            <span class="viewer-path"></span>
          </div>
        </section>

        <script type="text/plain" data-file="src/main/java/com/xiyue/tutorial/common/registry/ModCreativeModeTabs.java">package com.xiyue.tutorial.common.registry;

import com.xiyue.tutorial.TutorialMod;
import net.minecraft.core.registries.Registries;
import net.minecraft.network.chat.Component;
import net.minecraft.world.item.*;
import net.minecraftforge.eventbus.api.IEventBus;
import net.minecraftforge.registries.DeferredRegister;
import net.minecraftforge.registries.RegistryObject;

public class ModCreativeModeTabs {
    public static final DeferredRegister<CreativeModeTab> CREATIVE_MODE_TABS =
            DeferredRegister.create(Registries.CREATIVE_MODE_TAB, TutorialMod.MODID);

    public static final RegistryObject<CreativeModeTab> TUTORIAL_TABS =
            CREATIVE_MODE_TABS.register("tutorial_tab",
            () -> CreativeModeTab.builder()
                    .icon(() -> new ItemStack(ModItems.CRYSTAL.get()))
                    .title(Component.translatable("creativetab.tutorial_tab"))
                    .displayItems((parameters, output) -> {
                        output.accept(ModItems.CRYSTAL.get());
                    })
                    .build());

    public static void register(IEventBus eventBus) {
        CREATIVE_MODE_TABS.register(eventBus);
    }
}</script>

        <script type="text/plain" data-file="src/main/java/com/xiyue/tutorial/TutorialMod.java">package com.xiyue.tutorial;

import com.xiyue.tutorial.common.registry.ModCreativeModeTabs;
import com.xiyue.tutorial.common.registry.ModItems;
import net.minecraftforge.eventbus.api.IEventBus;
import net.minecraftforge.fml.config.ModConfig;
import net.minecraftforge.fml.javafmlmod.FMLJavaModLoadingContext;

public class TutorialMod {
    public static final String MODID = "tutorial";

    public TutorialMod(FMLJavaModLoadingContext context) {
        IEventBus modEventBus = context.getModEventBus();
        ModItems.register(modEventBus);
        ModCreativeModeTabs.register(modEventBus);
        context.registerConfig(ModConfig.Type.COMMON, Config.SPEC);
    }
}</script>

        <script type="text/plain" data-file="src/main/resources/assets/tutorial/lang/en_us.json">{
  "item.tutorial.crystal": "Crystal",
  "creativetab.tutorial_tab": "Tutorial"
}</script>

        <script type="text/plain" data-file="src/main/resources/assets/tutorial/lang/zh_cn.json">{
  "item.tutorial.crystal": "水晶",
  "creativetab.tutorial_tab": "教程"
}</script>
      </div>
    </section>

    <nav class="guide-nav">
      <a href="ch1-sec3-point1-first-item.html">上一页</a>
      <a href="ch1-sec3-point3-resources-structure.html">下一页</a>
    </nav>
  </main>

  <script src="../scripts/main.js"></script>
  <script src="../scripts/ide-viewer.js"></script>
</body>
</html>
